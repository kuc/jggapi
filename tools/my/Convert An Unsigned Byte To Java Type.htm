<head><title>Convert An Unsigned Byte To Java Type</title>
<link rel="stylesheet" type="text/css" href="/wiki/wiki.css">
</head>
<body><h1>
<a  href="/wiki.cgi/FrontPage"><img src="/wiki/dave.gif" border=0 alt="dave goes on a trip"></a>
<a href="/wiki.cgi?fullsearch=ConvertAnUnsignedByteToJavaType">Convert An Unsigned Byte To Java Type</a>
</h1>
<hr>

Convert an UNSIGNED byte to a JAVA type

In JAVA, a byte always considered as signed when converted to another type. We must mask the sign bit to JAVA, cast to an integer and process the masked bit if needed. The following method implements this idea : 

<pre>
public class UnsignedByte<a class="nonexistent"  href="/wiki.cgi/UnsignedByte">?</a> {
  public static void main (String args[]) {
    byte b1 = 127  // int 127;
    byte b2 = -128 // int 128; 
    byte b3 = -1   // int 255; 

    System.out.println(unsignedByteToInt(b1));
    System.out.println(unsignedByteToInt(b2));
    System.out.println(unsignedByteToInt(b3));
    }
        
  public static int unsignedByteToInt(byte b) {
    return (int) b &amp; 0xFF;
    }
   }
</pre> 
<p>
<p>

Therefore for an array of 4 bytes (buf[]), which represents an integer:
<p>

<pre>
int i = 0;
int pos = 0;
i += unsignedByteToInt(buf[pos++]) &lt;&lt; 24;
i += unsignedByteToInt(buf[pos++]) &lt;&lt; 16;
i += unsignedByteToInt(buf[pos++]) &lt;&lt; 8;
i += unsignedByteToInt(buf[pos++]) &lt;&lt; 0;
</pre> 
<p>
<p>

To convert a byte to it's hexadecimal equivalent 

<pre>
public static String byteToHex(byte b){
  int i = b &amp; 0xFF;
  return Integer.toHexString(i);
  }
</pre>
<p>
<p>

NOTE: when converting byte representing an integer, it's possible that you will have to deal with the big-endian vs little-endian format. See this:
<p>
<p>

Deal with big-endian and little-endian order

Java virtual machine always used big-endian, Intel x86 used little-endian. 

<pre>
public class Swab {
  public final static int swabInt(int v) {
    return  (v &gt;&gt;&gt; 24) | (v &lt;&lt; 24) | 
      ((v &lt;&lt; 8) &amp; 0x00FF0000) | ((v &gt;&gt; 8) &amp; 0x0000FF00);
    }

  public static void main(String argv[]) {
    //  before 0x01020304
    //    after  0x04030201
    int v = 0x01020304;
    System.out.println("before : 0x" + Integer.toString(v,16));
    System.out.println("after  : 0x" + Integer.toString(swabInt(v),16));
    }
  }
</pre>
<p>
<p>

<hr>
<a  href="/wiki.cgi/?edit=ConvertAnUnsignedByteToJavaType">EditText</a>
of this page
(last modified Sat 30 Nov 2002 06:24 PM)
<br>
<a  href="/wiki.cgi/FindPage?value=ConvertAnUnsignedByteToJavaType">FindPage</a>
 by browsing, searching, or an index
